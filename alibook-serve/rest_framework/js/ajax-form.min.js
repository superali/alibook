function replaceDocument(t){var e=document.open("text/html");e.write(t),e.close()}function doAjaxSubmit(t){var e=$(this),a=($(this.clk).data("method")||e.data("method")||e.attr("method")||"GET").toUpperCase();if("GET"!==a){var n=e.find('input[data-override="content-type"]').val()||e.find('select[data-override="content-type"] option:selected').text();if("POST"!==a||n){t.preventDefault();var r,o=e.attr("action");if(n){if(r=e.find('[data-override="content"]').val()||"","multipart/form-data"===n){var i=new RegExp("^--([0-9A-Z'()+_,-./:=? ]{0,69}[0-9A-Z'()+_,-./:=?])[\\s]*?$","im"),c=r.match(i);null!==c&&(n+='; boundary="'+c[1]+'"'),r=r.replace(/\n/g,"\r\n")}}else if("multipart/form-data"===(n=e.attr("enctype")||e.attr("encoding"))){if(!window.FormData)return void alert("Your browser does not support AJAX multipart form submissions");n=!1,r=new FormData(e[0])}else n="application/x-www-form-urlencoded; charset=UTF-8",r=e.serialize();var l=$.ajax({url:o,method:a,data:r,contentType:n,processData:!1,headers:{Accept:"text/html; q=1.0, */*"}});return l.always(function(t,e,a){"success"!=e&&(a=t);if(0===(a.getResponseHeader("content-type")||"").toLowerCase().indexOf("text/html")){replaceDocument(a.responseText);try{history.replaceState({},"",o),scroll(0,0)}catch(t){window.location=o}}else window.location=o}),l}}}function captureSubmittingElement(t){var e=t.target;this.clk=e}$.fn.ajaxForm=function(){var t={};return this.unbind("submit.form-plugin  click.form-plugin").bind("submit.form-plugin",t,doAjaxSubmit).bind("click.form-plugin",t,captureSubmittingElement)};